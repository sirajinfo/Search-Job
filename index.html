<!DOCTYPE html>
<html>
<head>
  <title>Job Search AI</title>
</head>
<body>
  <h1>Job Search AI Tool</h1>

  <input type="text" id="query" placeholder="Search job...">
  <button onclick="searchJobs()">Search</button>

  <div id="results"></div>

  <script>
    async function searchJobs() {
      const q = document.getElementById("query").value;

      const response = await fetch("api.php", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ q })
      });

      const data = await response.json();

      let html = "";

      if (!data.jobs) {
        html = "<p>No jobs found...</p>";
      } else {
        data.jobs.forEach(job => {
          html += `
            <div style='margin:10px;padding:10px;border:1px solid #ccc'>
              <h3>${job.title}</h3>
              <p>${job.location}</p>
              <p>${job.snippet}</p>
              <a href='${job.link}' target='_blank'>Apply Now</a>
            </div>
          `;
        });
      }

      document.getElementById("results").innerHTML = html;
    }
  </script>
</body>
</html>
